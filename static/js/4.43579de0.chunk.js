(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{261:function(e,t,n){e.exports={content__wrapper:"users_content__wrapper__I5n30",content__wrapper_pagination:"users_content__wrapper_pagination__1MNj0",content__item:"users_content__item__2Yyhu",content__item_img:"users_content__item_img__1D76Z",content__item_button_unfollow:"users_content__item_button_unfollow__2pV61",content__item_button_follow:"users_content__item_button_follow__AmX_9",content__item_info:"users_content__item_info__1Xs8f",content__item_info_name:"users_content__item_info_name__2HvF9",content__item_info_status:"users_content__item_info_status__3AGlj",page:"users_page__3334I",active_page:"users_active_page__aZlPL",circleProgress:"users_circleProgress__3z0Io",scrollTop_wrapper:"users_scrollTop_wrapper__uMiAi",scrollTop:"users_scrollTop__pkMse",fadeIn:"users_fadeIn__2Gngt"}},269:function(e,t,n){"use strict";n.r(t);var o=n(15),a=n(0),c=n.n(a),r=n(261),s=n.n(r),i=n(30),u=c.a.memo((function(e){return c.a.createElement("div",{className:s.a.content__item},c.a.createElement("div",{className:s.a.content__item_img},c.a.createElement(i.b,{to:"/profile/"+e.id},c.a.createElement("img",{src:e.photos.small?e.photos.small:"https://i.ibb.co/F8yML1z/image.png",alt:""}))),c.a.createElement("div",{className:s.a.content__item_info},c.a.createElement("div",{className:s.a.content__item_info_name},c.a.createElement("span",null,e.name)),c.a.createElement("div",{className:s.a.content__item_info_status},c.a.createElement("span",null,e.status))),c.a.createElement("div",{className:s.a.content__item_button},e.followed?c.a.createElement("button",{onClick:function(){e.unfollow(e.id)},className:s.a.content__item_button_unfollow,disabled:e.isFollowingInProgress.some((function(t){return t==e.id}))},c.a.createElement("img",{src:"https://img.icons8.com/material-sharp/24/000000/unsubscribe.png",alt:""})):c.a.createElement("button",{onClick:function(){e.follow(e.id)},className:s.a.content__item_button_follow,disabled:e.isFollowingInProgress.some((function(t){return t==e.id}))},c.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-filled/24/000000/subscription.png",alt:""}))))})),l=n(139),_=n(250),m=n(268),f=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],o=1;t>=o;o++)n.push(o);return c.a.createElement("div",{className:s.a.content__wrapper_pagination},c.a.createElement(m.a,{count:t,siblingCount:1,color:"primary",onChange:function(t,n){return o=n,void e.pagination(o,e.pageSize);var o}}))},g=n(131),p=n(265),b=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],r=n[1];function i(){!o&&window.pageYOffset>300?r(!0):r(!1)}Object(a.useEffect)((function(){return e.isFetching&&window.addEventListener("scroll",i,!0),function(){return window.removeEventListener("scroll",i)}}),[window.pageYOffset,e.currentPage]);return c.a.createElement("div",{className:s.a.scrollTop_wrapper},c.a.createElement(p.a,{className:s.a.scrollTop,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{height:40,display:o?"flex":"none"}}))},w=c.a.memo((function(e){return Object(a.useEffect)((function(){0===e.users.length&&e.getUsers(e.currentPage,e.pageSize)}),[e.currentPage,e.pageSize]),c.a.createElement("div",{className:s.a.content__wrapper},e.isFetching&&c.a.createElement(_.a,{className:s.a.circleProgress}),c.a.createElement(f,{pageSize:e.pageSize,currentPage:e.currentPage,pagination:e.pagination,setCurrentPage:e.setCurrentPage,totalUsersCount:e.totalUsersCount}),c.a.createElement(b,{currentPage:e.currentPage,isFetching:e.isFetching}),e.users.map((function(t){return c.a.createElement(u,{key:t.id,id:t.id,status:t.status,photos:t.photos,followed:t.followed,unfollow:function(t){e.unfollow(t)},follow:function(t){e.follow(t)},name:t.name,isFollowingInProgress:e.isFollowingInProgress})})))})),d=Object(l.a)(w),j=n(45),h=n(7),O=n(37),E=n(42),P=Object(E.a)((function(e){return e.usersPage.users}),(function(e){return e})),v=Object(E.a)((function(e){return e.usersPage.totalUsersCount}),(function(e){return e})),C=Object(E.a)((function(e){return e.usersPage.pageSize}),(function(e){return e})),F=Object(E.a)((function(e){return e.usersPage.currentPage}),(function(e){return e})),N=Object(E.a)((function(e){return e.usersPage.isFetching}),(function(e){return e})),k=Object(E.a)((function(e){return e.usersPage.isFollowingInProgress}),(function(e){return e}));t.default=Object(o.b)((function(e){return{users:P(e),totalUsersCount:v(e),pageSize:C(e),currentPage:F(e),isFetching:N(e),isFollowingInProgress:k(e)}}),{follow:function(e){return function(t){t(Object(h.j)(!0,e)),j.c.follow(e).then((function(n){0===n.data.resultCode?(t(Object(h.c)(e)),t(Object(h.j)(!1,e))):Object(O.a)(n,t)})).catch((function(e){Object(O.b)(e,t)}))}},unfollow:function(e){return function(t){t(Object(h.j)(!0,e)),j.c.unfollow(e).then((function(n){0===n.data.resultCode?(t(Object(h.q)(e)),t(Object(h.j)(!1,e))):Object(O.a)(n,t)})).catch((function(e){Object(O.b)(e,t)}))}},getUsers:function(e,t){return function(n){n(Object(h.k)(!0)),j.c.setUsers(e,t).then((function(e){n(Object(h.k)(!1)),n(Object(h.o)(e.data.items)),n(Object(h.m)(e.data.totalCount))})).catch((function(e){Object(O.b)(e,n)}))}},pagination:function(e,t){return function(n){n(Object(h.h)(e)),n(Object(h.k)(!0)),j.c.setUsers(e,t).then((function(e){n(Object(h.o)(e.data.items)),n(Object(h.k)(!1))})).catch((function(e){Object(O.b)(e,n)}))}}})(d)}}]);
//# sourceMappingURL=4.43579de0.chunk.js.map