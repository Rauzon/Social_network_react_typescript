(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{124:function(e,t,a){e.exports={app__wrapper:"app_app__wrapper__3zjyW",app__wrapper_content:"app_app__wrapper_content__30D5Q",circleProgress:"app_circleProgress__2rhjH"}},125:function(e,t,a){e.exports={nav:"nav_nav__32Dtx",wrap__title:"nav_wrap__title__1fJvA"}},126:function(e,t,a){e.exports={newMessage:"messages_newMessage__H-XRi",newMessage__img:"messages_newMessage__img__2RyBM",newMessage__content:"messages_newMessage__content__g6ttP"}},127:function(e,t,a){e.exports={dialogs__people_name:"names_dialogs__people_name__RNTJh",dialogs__people_name_img:"names_dialogs__people_name_img__LSXv8",dialogs__people_name_content:"names_dialogs__people_name_content__37Vw_"}},128:function(e,t,a){e.exports={content:"myPost_content__1RSxM",content__img:"myPost_content__img__ab0v1",content__text:"myPost_content__text__2GZxT"}},129:function(e,t,a){e.exports={content:"newPost_content__2nJOh",content__textArea:"newPost_content__textArea__2sjje",content__button:"newPost_content__button__3yZ3B"}},130:function(e,t,a){e.exports={login__content:"login_login__content__1Gnuf",login__content_inner:"login_login__content_inner__LIZKO",login__content_inner_textHelper:"login_login__content_inner_textHelper__aDKMn"}},160:function(e,t,a){e.exports={content:"news_content__kswPX"}},161:function(e,t,a){e.exports={content:"settings_content__3LtiA"}},163:function(e,t,a){e.exports={content:"profile_content__1q3D6"}},164:function(e,t,a){e.exports={content__posts:"myPosts_content__posts__2Gi5V"}},165:function(e,t,a){e.exports=a.p+"static/media/logo.d243bdd9.png"},178:function(e,t,a){e.exports=a(207)},180:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t),a.d(t,"renderAppTree",(function(){return ua}));var n=a(0),r=a.n(n);a(180),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,c=a(9),s=a.n(c),i=a(22),l=a(13),_=a(124),u=a.n(_),m=a(125),p=a.n(m),d=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:e.path},r.a.createElement("li",null,e.title)))})),g=a(45),f=a.n(g),E=a(260),h=a(263),b=a(247),O=a(209),v=a(248),S=a(4),P=a(246),j=a(105),w=a.n(j),T=Object(S.a)({root:{"& .MuiAccordionDetails-root":{padding:"0px"}}})(E.a),N=Object(P.a)((function(e){return Object(h.a)({root:{width:"100%","& .MuiAccordionDetails":{padding:"0px"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentBlock:{width:"100%"},contentBlockWrapper:{width:"100%"},contentBlockWrapperRoot:{width:"100%"}})})),I=r.a.memo((function(e){var t=N();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{className:"".concat(f.a.MuiPaperRoot," ").concat(f.a.contentBlockWrapperRoot)},r.a.createElement(b.a,{expandIcon:r.a.createElement(w.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:t.heading},"Friends")),r.a.createElement(v.a,{className:t.contentBlockWrapper},r.a.createElement(O.a,{component:"span",className:t.contentBlock},e.friends.map((function(e){return r.a.createElement("div",{key:e.id,className:f.a.nav__friendsBlock_item},r.a.createElement("div",{className:f.a.nav__friendsBlock_item_img},r.a.createElement("img",{src:"https://i.ibb.co/F8yML1z/image.png",alt:""})),r.a.createElement("div",{className:f.a.nav__friendsBlock_item_name},r.a.createElement(i.b,{to:e.pathToDialog},e.name)),e.isOnline&&r.a.createElement("div",{className:f.a.nav__friendsBlock_item_onlineStatus}))}))))))})),A=a(10),y=r.a.memo((function(e){var t=Object(A.d)((function(e){return e.auth.isAuth}));return r.a.createElement("div",{className:p.a.nav},r.a.createElement("div",{className:p.a.wrap__title},e.navPage.navTitles.map((function(e){return r.a.createElement(d,{key:e.id,title:e.title,path:e.path})}))),r.a.createElement("div",{className:p.a.nav__friendsBlock},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{friends:e.navPage.friends}))))})),R=a(62),F=a.n(R),k=a(126),C=a.n(k),M=r.a.memo((function(e){return r.a.createElement("div",{className:C.a.newMessage},r.a.createElement("div",{className:C.a.newMessage__img},r.a.createElement("img",{src:"https://i.ibb.co/F8yML1z/image.png",alt:"avatarPhoto"})),r.a.createElement("div",{className:C.a.newMessage__content},r.a.createElement("span",null,e.message)))})),x=a(127),U=a.n(x),L=r.a.memo((function(e){return r.a.createElement("div",{className:U.a.dialogs__people_name},r.a.createElement("div",{className:U.a.dialogs__people_name_img},r.a.createElement("img",{src:"https://i.ibb.co/F8yML1z/image.png",alt:""})),r.a.createElement("div",{className:U.a.dialogs__people_name_content},r.a.createElement(i.b,{to:e.path},r.a.createElement("span",null,e.name))))}));!function(e){e.ADD_MESSAGE="ADD_MESSAGE",e.ADD_POST="ADD_POST",e.UPDATE_POST="UPDATE_POST",e.FOLLOW_TO_USER="FOLLOW_TO_USER",e.UNFOLLOW_TO_USER="UNFOLLOW_TO_USER",e.SET_USERS="SET_USERS",e.SET_TOTAL_USERS_COUNT="SET_TOTAL_USERS_COUNT",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_IS_FETCHING="SET_IS_FETCHING",e.SET_USER_PROFILE="SET_USER_PROFILE",e.SET_AUTH_DATA="SET_AUTH_DATA",e.SET_FOLLOWING_IN_PROGRESS="SET_FOLLOWING_IN_PROGRESS",e.SET_STATUS_PROFILE="SET_STATUS_PROFILE",e.SET_AUTH_ERROR="SET_AUTH_ERROR",e.SET_CAPTCHA_VALUE="SET_CAPTCHA_VALUE",e.INITIALIZED_APP="INITIALIZED_APP",e.SET_ERROR="SET_ERROR"}(o||(o={}));var D=function(e){return{type:o.SET_USERS,users:e}},B=function(e){return{type:o.SET_IS_FETCHING,isFetching:e}},H=function(e){return{type:o.SET_AUTH_DATA,authData:e}},G=function(e,t){return{type:o.SET_FOLLOWING_IN_PROGRESS,isFollowingProgress:e,userId:t}},W=function(e){return{type:o.SET_STATUS_PROFILE,statusProfile:e}},z=function(e){return{type:o.SET_ERROR,error:e}},J=a(264),V=a(249),Z=a(250),Y=a(255),q=a(252),X=a(85),K=a(44),Q=r.a.memo((function(e){return r.a.createElement("div",{className:F.a.dialogs__messages_newMesssage},r.a.createElement(ee,{addMessage:e.addMessage}))})),$=K.a({DialogMessageTextarea:K.b().max(300,"message should consists 300 char or less")}),ee=r.a.memo((function(e){var t=Object(X.a)({initialValues:{DialogMessageTextarea:""},validationSchema:$,onSubmit:function(t,a){var n=a.resetForm;e.addMessage(t.DialogMessageTextarea),n({values:void 0})}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(V.a,null,r.a.createElement("form",{onSubmit:t.handleSubmit},r.a.createElement(Z.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Z.a,{item:!0},r.a.createElement("div",{className:F.a.dialogs__messages_newMesssage_textarea},r.a.createElement(Y.a,Object.assign({placeholder:"enter your message...",name:"DialogMessageTextarea",label:"message field",multiline:!0,rows:2,rowsMax:4},t.getFieldProps("DialogMessageTextarea")))),t.errors.DialogMessageTextarea&&t.touched.DialogMessageTextarea?r.a.createElement("div",{style:{color:"red"}},t.errors.DialogMessageTextarea):null),r.a.createElement(Z.a,{item:!0},r.a.createElement("div",{className:F.a.dialogs__messages_newMesssage_button},r.a.createElement(q.a,{color:"primary",type:"submit"},"Send"))))))))})),te=Object(A.b)(null,{addMessage:function(e){return{type:o.ADD_MESSAGE,message:e}}})(Q),ae=a(170),ne=function(e){return{isAuth:e.auth.isAuth}};function re(e){return Object(A.b)(ne)((function(t){var a=t.isAuth,n=Object(ae.a)(t,["isAuth"]);return a?r.a.createElement(e,n):r.a.createElement(l.a,{to:"/login"})}))}var oe=a(43),ce=a(21),se=Object(ce.a)((function(e){return e.dialogsPage}),(function(e){return e})),ie=r.a.memo((function(e){return r.a.createElement("div",{className:F.a.dialogs},r.a.createElement("div",{className:F.a.dialogs__people},e.dialogPage.names.map((function(e){return r.a.createElement(L,{key:e.id,name:e.name,path:e.path})}))),r.a.createElement("div",{className:F.a.dialogs__messages},e.dialogPage.messages.map((function(e){return r.a.createElement(M,{key:e.id,message:e.message})})),r.a.createElement(te,null)))})),le=Object(oe.d)(re,Object(A.b)((function(e){return{dialogPage:se(e)}})))(ie),_e=a(160),ue=a.n(_e),me=r.a.memo((function(){return r.a.createElement("div",{className:ue.a.content},"The page of news is being developed")})),pe=a(161),de=a.n(pe),ge=r.a.memo((function(){return r.a.createElement("div",{className:de.a.content},"The page of settings is being developed")})),fe=a(94),Ee=a(26),he=a.n(Ee),be=r.a.memo((function(e){var t=Object(n.useCallback)((function(){e.follow(e.id)}),[e.id]),a=Object(n.useCallback)((function(){e.unfollow(e.id)}),[e.id]);return r.a.createElement("div",{className:he.a.content__item},r.a.createElement("div",{className:he.a.content__item_img},r.a.createElement(i.b,{to:"/profile/"+e.id},r.a.createElement("img",{src:e.photos.small?e.photos.small:"https://i.ibb.co/F8yML1z/image.png",alt:""}))),r.a.createElement("div",{className:he.a.content__item_info},r.a.createElement("div",{className:he.a.content__item_info_name},r.a.createElement("span",null,e.name)),r.a.createElement("div",{className:he.a.content__item_info_status},r.a.createElement("span",null,e.status))),r.a.createElement("div",{className:he.a.content__item_button},e.followed?r.a.createElement("button",{onClick:a,className:he.a.content__item_button_unfollow,disabled:e.isFollowingInProgress.some((function(t){return t==e.id}))},r.a.createElement("img",{src:"https://img.icons8.com/material-sharp/24/000000/unsubscribe.png",alt:""})):r.a.createElement("button",{onClick:t,className:he.a.content__item_button_follow,disabled:e.isFollowingInProgress.some((function(t){return t==e.id}))},r.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-filled/24/000000/subscription.png",alt:""}))))})),Oe=a(253),ve=a(256),Se=a(169),Pe=re(r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(fe.a)(t,2),o=a[0],c=a[1];function s(){!o&&window.pageYOffset>300?c(!0):c(!1)}Object(n.useEffect)((function(){0===e.users.length&&e.getUsers(e.currentPage,e.pageSize)}),[e.currentPage,e.pageSize]),Object(n.useEffect)((function(){return e.isFetching&&window.addEventListener("scroll",s,!0),function(){return window.removeEventListener("scroll",s)}}),[window.pageYOffset,e.currentPage]);for(var i=Object(n.useCallback)((function(t){e.pagination(t,e.pageSize)}),[e.pageSize]),l=Math.ceil(e.totalUsersCount/e.pageSize),_=[],u=1;l>=u;u++)_.push(u);return r.a.createElement("div",{className:he.a.content__wrapper},e.isFetching&&r.a.createElement(Oe.a,{className:he.a.circleProgress}),r.a.createElement("div",{className:he.a.content__wrapper_pagination},r.a.createElement(ve.a,{count:l,siblingCount:1,color:"primary",onChange:function(e,t){return i(t)}})),r.a.createElement("div",{className:he.a.scrollTop_wrapper},r.a.createElement(Se.a,{className:he.a.scrollTop,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{height:40,display:o?"flex":"none"}})),e.users.map((function(t){return r.a.createElement(be,{key:t.id,id:t.id,status:t.status,photos:t.photos,followed:t.followed,unfollow:function(t){e.unfollow(t)},follow:function(t){e.follow(t)},name:t.name,isFollowingInProgress:e.isFollowingInProgress})})))}))),je=a(162),we=a.n(je).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"959808d3-8efe-42bd-88eb-3693675e6c98"}}),Te=function(e,t){return we.get("users?page=".concat(e,"&count=").concat(t))},Ne=function(e){return we.delete("follow/".concat(e))},Ie=function(e){return we.post("follow/".concat(e))},Ae=function(){return we.get("auth/me")},ye=function(e,t,a,n){return we.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},Re=function(){return we.delete("auth/login")},Fe=function(){return we.get("/security/get-captcha-url")},ke=function(e){return we.get("profile/".concat(e))},Ce=function(e){return we.get("profile/status/".concat(e))},Me=function(e){return we.put("profile/status",{status:e})},xe=function(e,t){e.message?t(z(e.message)):t(z("undefined network error"))},Ue=function(e,t){e.data.messages.length?t(z(e.data.messages[0])):t(z("some error"))},Le=Object(ce.a)((function(e){return e.usersPage.users}),(function(e){return e})),De=Object(ce.a)((function(e){return e.usersPage.totalUsersCount}),(function(e){return e})),Be=Object(ce.a)((function(e){return e.usersPage.pageSize}),(function(e){return e})),He=Object(ce.a)((function(e){return e.usersPage.currentPage}),(function(e){return e})),Ge=Object(ce.a)((function(e){return e.usersPage.isFetching}),(function(e){return e})),We=Object(ce.a)((function(e){return e.usersPage.isFollowingInProgress}),(function(e){return e})),ze=Object(A.b)((function(e){return{users:Le(e),totalUsersCount:De(e),pageSize:Be(e),currentPage:He(e),isFetching:Ge(e),isFollowingInProgress:We(e)}}),{follow:function(e){return function(t){t(G(!0,e)),Ie(e).then((function(a){0===a.data.resultCode?(t(function(e){return{type:o.FOLLOW_TO_USER,userId:e}}(e)),t(G(!1,e))):Ue(a,t)})).catch((function(e){xe(e,t)}))}},unfollow:function(e){return function(t){t(G(!0,e)),Ne(e).then((function(a){0===a.data.resultCode?(t(function(e){return{type:o.UNFOLLOW_TO_USER,userId:e}}(e)),t(G(!1,e))):Ue(a,t)})).catch((function(e){xe(e,t)}))}},getUsers:function(e,t){return function(a){a(B(!0)),Te(e,t).then((function(e){var t;a(B(!1)),a(D(e.data.items)),a((t=e.data.totalCount,{type:o.SET_TOTAL_USERS_COUNT,totalUsersCount:t}))})).catch((function(e){xe(e,a)}))}},pagination:function(e,t){return function(a){var n;a((n=e,{type:o.SET_CURRENT_PAGE,currentPage:n})),a(B(!0)),Te(e,t).then((function(e){a(D(e.data.items)),a(B(!1))})).catch((function(e){xe(e,a)}))}}})(Pe),Je=a(115),Ve=a(116),Ze=a(117),Ye=a(120),qe=a(163),Xe=a.n(qe),Ke=a(164),Qe=a.n(Ke),$e=a(128),et=a.n($e),tt=r.a.memo((function(e){return r.a.createElement("div",{className:et.a.content},r.a.createElement("div",{className:et.a.content__img},r.a.createElement("img",{src:e.photo?e.photo:"https://i.ibb.co/F8yML1z/image.png",alt:""})),r.a.createElement("div",{className:et.a.content__text},r.a.createElement("span",null,e.message)))})),at=a(129),nt=a.n(at),rt=K.a({textareaPost:K.b().max(300,"post should consists 300 char or less")}),ot=r.a.memo((function(e){return r.a.createElement("div",{className:nt.a.content},r.a.createElement(ct,{addPost:e.addPost}))})),ct=r.a.memo((function(e){var t=Object(X.a)({initialValues:{textareaPost:""},validationSchema:rt,onSubmit:function(t,a){var n=a.resetForm;t.textareaPost&&e.addPost(t.textareaPost),n({values:void 0})}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(V.a,null,r.a.createElement("form",{onSubmit:t.handleSubmit},r.a.createElement(Z.a,{container:!0,direction:"column",spacing:3},r.a.createElement(Z.a,{item:!0},r.a.createElement("div",{className:nt.a.content__textArea},r.a.createElement(Y.a,Object.assign({placeholder:"enter some text...",name:"textareaPost",variant:"outlined",multiline:!0,rows:2,rowsMax:4},t.getFieldProps("textareaPost")))),t.errors.textareaPost&&t.touched.textareaPost?r.a.createElement("div",{style:{color:"red"}},t.errors.textareaPost):null),r.a.createElement(Z.a,{item:!0},r.a.createElement("div",{className:nt.a.content__button},r.a.createElement(q.a,{type:"submit",variant:"contained"},"PUBLISH"))))))))})),st=Object(A.b)(null,{addPost:function(e){return{type:o.ADD_POST,value:e}}})(ot),it=r.a.memo((function(e){return r.a.createElement("div",{className:Qe.a.content__posts},r.a.createElement("h4",null,r.a.createElement("span",null,"Create a new post:")),r.a.createElement(st,null),e.posts.map((function(t){return r.a.createElement(tt,{message:t.message,key:t.id,photo:e.photo})})))})),lt=a(28),_t=a.n(lt),ut=r.a.memo((function(e){var t=e.userId;t||(t="7788");var a=Object(n.useState)(!1),o=Object(fe.a)(a,2),c=o[0],s=o[1],i=Object(n.useState)(e.status),l=Object(fe.a)(i,2),_=l[0],u=l[1],m=Object(n.useCallback)((function(){e.updateStatus(_),s(!1)}),[_]);Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"Status: ")),c&&"7788"==t?r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:_,onChange:function(e){u(e.currentTarget.value)},onBlur:m,autoFocus:!0})):r.a.createElement("div",{className:_t.a.content__mainInfo_contactStatus_spanContent},r.a.createElement("span",{onDoubleClick:function(){return s(!0)}},e.status)))})),mt=r.a.memo((function(e){var t,a,n,o,c,s,i,l,_;e.userProfile&&e.userProfile.contacts&&(_=Object.keys(e.userProfile.contacts).map((function(t){return r.a.createElement("div",{className:_t.a.content__socialLinks,key:t},r.a.createElement("span",null,t,": ",e.userProfile.contacts[t]))})));var u=Object(S.a)({root:{"& .MuiAccordionDetails-root":{padding:"0px"}}})(E.a),m=Object(P.a)((function(e){return Object(h.a)({root:{width:"100%","& .MuiAccordionDetails":{padding:"0px"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentBlock:{width:"100%"},contentBlockWrapper:{width:"100%"},contentBlockWrapperRoot:{width:"100%"}})}))();return r.a.createElement("div",{className:_t.a.content__profileInfo},r.a.createElement("div",{className:_t.a.content__mainInfo},r.a.createElement("div",{className:_t.a.content__mainInfo_avatar},r.a.createElement("img",{src:(null===(t=e.userProfile)||void 0===t||null===(a=t.photos)||void 0===a?void 0:a.large)?null===(n=e.userProfile)||void 0===n||null===(o=n.photos)||void 0===o?void 0:o.large:"https://i.imgur.com/d8HZHxF.jpg",alt:""})),r.a.createElement("div",{className:_t.a.content__mainInfo_contactStatus},r.a.createElement("div",{className:_t.a.content__description_fullName},r.a.createElement("b",null,"FullName"),": ",null===(c=e.userProfile)||void 0===c?void 0:c.fullName),r.a.createElement(ut,{status:e.status,updateStatus:e.updateStatus,userId:e.userId}))),r.a.createElement("div",{className:_t.a.content__description},r.a.createElement("div",{className:_t.a.content__description_aboutMe},r.a.createElement("b",null,"AboutMe"),": ",null===(s=e.userProfile)||void 0===s?void 0:s.aboutMe),r.a.createElement("div",{className:_t.a.content__description_searchJob},r.a.createElement("b",null,"Search a job:")," ",(null===(i=e.userProfile)||void 0===i?void 0:i.lookingForAJob)?"Yes":"No"),r.a.createElement("div",{className:_t.a.content__description_desriptionOfJob},r.a.createElement("b",null,"Description of job:")," ",(null===(l=e.userProfile)||void 0===l?void 0:l.lookingForAJobDescription)?e.userProfile.lookingForAJobDescription:"No description"),r.a.createElement("div",{className:_t.a.content__description_contacts},r.a.createElement(u,{className:"".concat(f.a.MuiPaperRoot," ").concat(f.a.contentBlockWrapperRoot)},r.a.createElement(b.a,{expandIcon:r.a.createElement(w.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(O.a,{className:m.heading},r.a.createElement("b",null,"Contacts:"))),r.a.createElement(v.a,{className:m.contentBlockWrapper},r.a.createElement(O.a,{className:m.contentBlock,component:"span"},_))))))})),pt=r.a.memo((function(e){var t;return r.a.createElement("div",{className:Xe.a.content},e.profilePage.isFetching?r.a.createElement(Oe.a,{style:{display:"block",position:"absolute",top:"0",left:"0",bottom:"0",right:"0",margin:"auto"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,{userProfile:e.profilePage.userProfile,status:e.profilePage.profileStatus,updateStatus:e.updateStatus,userId:e.userId}),r.a.createElement(it,{posts:e.profilePage.posts,photo:null===(t=e.profilePage.userProfile.photos)||void 0===t?void 0:t.large})))})),dt=Object(ce.a)((function(e){return e.profilePage}),(function(e){return e})),gt=Object(ce.a)((function(e){return e.auth.id}),(function(e){return e})),ft=function(e){Object(Ye.a)(a,e);var t=Object(Ze.a)(a);function a(){return Object(Je.a)(this,a),t.apply(this,arguments)}return Object(Ve.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(null!==this.props.authUserId?e=this.props.authUserId.toString():this.props.history.push("/login")),this.props.setUserProfile(e),this.props.setStatusProfile(e)}},{key:"render",value:function(){return r.a.createElement(pt,{profilePage:this.props.profilePage,updateStatus:this.props.updateStatus,userId:this.props.match.params.userId})}}]),a}(r.a.PureComponent),Et=Object(oe.d)(re,l.f,Object(A.b)((function(e){return{profilePage:dt(e),authUserId:gt(e)}}),{setUserProfile:function(e){return function(t){t(B(!0)),ke(e).then((function(e){var a;t((a=e.data,{type:o.SET_USER_PROFILE,userProfile:a})),t(B(!1))})).catch((function(e){xe(e,t)}))}},setStatusProfile:function(e){return function(t){t(B(!0)),Ce(e).then((function(e){t(W(e.data))})).catch((function(e){xe(e,t)}))}},updateStatus:function(e){return function(t){Me(e).then((function(){t(W(e))})).catch((function(e){xe(e,t)}))}}}))(ft),ht=a(71),bt=a.n(ht),Ot=a(165),vt=a.n(Ot),St=a(166),Pt=a.n(St),jt=r.a.memo((function(e){var t=Object(n.useCallback)((function(){e.logOutProfile()}),[e.logOutProfile]);return r.a.createElement("div",{className:bt.a.header},r.a.createElement("div",{className:bt.a.header__wrapper},r.a.createElement("div",{className:bt.a.header__wrapper_img},r.a.createElement("img",{src:vt.a,alt:"logo"})),r.a.createElement("div",{className:bt.a.header__authBlock},e.isAuth?r.a.createElement("div",{className:bt.a.header__authBlock_login},r.a.createElement("span",null,e.login),r.a.createElement("div",{className:bt.a.header__logOutBtn},r.a.createElement(q.a,{variant:"contained",onClick:t},r.a.createElement(Pt.a,null),"LOG OUT"))):r.a.createElement(i.b,{to:"/login"},"Sign In"))))})),wt=function(){return function(e){Fe().then((function(t){var a;e((a=t.data.url,{type:o.SET_CAPTCHA_VALUE,captcha:a}))}))}},Tt=function(){return function(e){return Ae().then((function(t){0===t.data.resultCode?e(H(t.data.data)):Ue(t,e)})).catch((function(t){xe(t,e)}))}},Nt=Object(ce.a)((function(e){return e.auth.isAuth}),(function(e){return e})),It=Object(ce.a)((function(e){return e.auth.error}),(function(e){return e})),At=Object(ce.a)((function(e){return e.auth.captcha}),(function(e){return e})),yt=Object(ce.a)((function(e){return e.auth.login}),(function(e){return e})),Rt=function(e){Object(Ye.a)(a,e);var t=Object(Ze.a)(a);function a(){return Object(Je.a)(this,a),t.apply(this,arguments)}return Object(Ve.a)(a,[{key:"render",value:function(){return r.a.createElement(jt,{isAuth:this.props.isAuth,login:this.props.login,logOutProfile:this.props.logOutProfile})}}]),a}(n.PureComponent),Ft=Object(A.b)((function(e){return{isAuth:Nt(e),login:yt(e)}}),{logOutProfile:function(){return function(e){Re().then((function(t){0===t.data.resultCode?e(H({email:null,login:null,id:null})):Ue(t,e)})).catch((function(t){xe(t,e)}))}}})(Rt),kt=a(63),Ct=a.n(kt),Mt=a(254),xt=a(258),Ut=a(167),Lt=a.n(Ut),Dt=K.a({email:K.b().email("Enter a valid email").required("Email is required"),password:K.b().min(8,"Minimum 8 characters length").max(20,"Max 20 characters length").required("Password is required")}),Bt=r.a.memo((function(e){var t=e.error,a=e.login,o=e.captcha,c=Object(X.a)({initialValues:{email:"",password:"",rememberMe:!1,captcha:""},validationSchema:Dt,onSubmit:function(e,t){var n=t.resetForm;a(e.email,e.password,e.rememberMe,e.captcha),n({values:void 0})}}),s=Object(n.useCallback)((function(){e.getCaptcha()}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(V.a,null,r.a.createElement("form",{onSubmit:c.handleSubmit},r.a.createElement(Z.a,{container:!0,direction:"column",spacing:2},r.a.createElement(Z.a,{item:!0},r.a.createElement("div",null,r.a.createElement(Y.a,Object.assign({name:"email",label:"email",variant:"outlined"},c.getFieldProps("email"),{InputProps:{classes:{root:Ct.a.fieldErr}}}))),c.errors.email&&c.touched.email?r.a.createElement("div",{className:Ct.a.styleError},c.errors.email):null),r.a.createElement(Z.a,{item:!0},r.a.createElement("div",null,r.a.createElement(Y.a,Object.assign({name:"password",label:"password",type:"password",variant:"outlined"},c.getFieldProps("password")))),!c.errors.password&&t?r.a.createElement("div",{className:Ct.a.styleError},t):null,c.errors.password&&c.touched.password?r.a.createElement("div",{className:Ct.a.styleError},c.errors.password):null),r.a.createElement(Z.a,{item:!0},r.a.createElement("div",null,r.a.createElement(Mt.a,{label:"Remember me",control:r.a.createElement(xt.a,Object.assign({name:"rememberMe"},c.getFieldProps("rememberMe")))}))),o&&r.a.createElement(Z.a,{item:!0},r.a.createElement("div",{className:Ct.a.captcha__content},r.a.createElement("img",{src:o,alt:""}),r.a.createElement("div",{className:Ct.a.captcha__content_img},r.a.createElement(Lt.a,{style:{fontSize:30},onClick:s}))),r.a.createElement(Y.a,Object.assign({name:"captcha",label:"captcha"},c.getFieldProps("captcha")))),r.a.createElement(Z.a,{item:!0},r.a.createElement("div",null,r.a.createElement(q.a,{type:"submit",variant:"contained"},"LOG IN"))))))))})),Ht=a(130),Gt=a.n(Ht),Wt=r.a.memo((function(e){var t=Object(n.useCallback)((function(){e.getCaptcha()}),[e.getCaptcha]);return r.a.createElement("div",{className:Gt.a.login__content},r.a.createElement("div",{className:Gt.a.login__content_inner_textHelper},r.a.createElement("h4",null,"You can enter and test features using those data:"),r.a.createElement("span",null,"login:"),r.a.createElement("b",null," vladby86@gmail.com"),r.a.createElement("br",null),r.a.createElement("span",null,"password:"),r.a.createElement("b",null," HardPassword_2020")),e.isAuth?r.a.createElement(l.a,{to:"/profile"}):r.a.createElement("div",{className:Gt.a.login__content_inner},r.a.createElement("h1",null,"Login"),r.a.createElement(Bt,{login:e.login,error:e.error,captcha:e.captcha,getCaptcha:t})))})),zt=r.a.memo((function(e){var t=Object(n.useCallback)((function(t,a,n,r){e.postLoginData(t,a,n,r)}),[e]);return r.a.createElement(Wt,{login:t,isAuth:e.isAuth,error:e.error,captcha:e.captcha,getCaptcha:e.getCaptcha})})),Jt=Object(A.b)((function(e){return{isAuth:Nt(e),error:It(e),captcha:At(e)}}),{postLoginData:function(e,t,a,n){return function(r){var c;r((c=null,{type:o.SET_AUTH_ERROR,error:c})),ye(e,t,a,n).then((function(e){0===e.data.resultCode?r(Tt()):10===e.data.resultCode?r(wt()):Ue(e,r)})).catch((function(e){xe(e,r)}))}},getCaptcha:wt})(zt),Vt=function(){return function(e){e(Tt()).then((function(){})).finally((function(){e({type:o.INITIALIZED_APP})}))}},Zt=a(261),Yt=a(257),qt=Object(P.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Xt=function(e){var t=Object(A.d)((function(e){return e.app.error})),a=Object(A.c)(),n=qt(),o=function(e,t){"clickaway"!==t&&a(z(null))};return r.a.createElement("div",{className:n.root},r.a.createElement(Zt.a,{open:null!==t,autoHideDuration:6e3,onClose:o},r.a.createElement(Kt,{onClose:o,severity:"error"},t)))};function Kt(e){return r.a.createElement(Yt.a,Object.assign({elevation:6,variant:"filled"},e))}var Qt=r.a.memo((function(e){var t=Object(A.d)((function(e){return e.app.isInitialized})),a=Object(A.c)();return Object(n.useEffect)((function(){a(Vt())}),[]),t?r.a.createElement("div",{className:u.a.app__wrapper},r.a.createElement(Ft,null),r.a.createElement(y,{navPage:e.state.navPage}),r.a.createElement("div",{className:u.a.app__wrapper_content},r.a.createElement(l.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Et,null)}}),r.a.createElement(l.b,{path:"/dialogs",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(l.b,{path:"/users",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(l.b,{path:"/news",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(l.b,{path:"/settings",render:function(){return r.a.createElement(ge,null)}}),r.a.createElement(l.b,{path:"/login",render:function(){return r.a.createElement(Jt,null)}}),r.a.createElement(Xt,null))):r.a.createElement(Oe.a,{className:u.a.circleProgress})})),$t=a(61),ea=a(6),ta=a(259),aa={posts:[{id:Object(ta.a)(),message:"Hey girls"},{id:Object(ta.a)(),message:"Hey guys"}],userProfile:{},isFetching:!1,profileStatus:""},na={names:[{id:Object(ta.a)(),name:"Marat",path:"/dialogs/1"},{id:Object(ta.a)(),name:"Anton",path:"/dialogs/2"},{id:Object(ta.a)(),name:"Arkasha",path:"/dialogs/3"},{id:Object(ta.a)(),name:"Tolik",path:"/dialogs/4"}],messages:[{id:Object(ta.a)(),message:"Hey man!"},{id:Object(ta.a)(),message:"How is it going?"},{id:Object(ta.a)(),message:"You forgot about my birthday(("},{id:Object(ta.a)(),message:"I want to break up with you, sorry"}]},ra={navTitles:[{id:Object(ta.a)(),title:"Profile",path:"/profile"},{id:Object(ta.a)(),title:"Dialogs",path:"/dialogs"},{id:Object(ta.a)(),title:"Users",path:"/users"},{id:Object(ta.a)(),title:"News",path:"/news"},{id:Object(ta.a)(),title:"Settings",path:"/settings"}],friends:[{id:Object(ta.a)(),name:"Marat",pathToDialog:"/dialogs/1",isOnline:!0},{id:Object(ta.a)(),name:"Anton",pathToDialog:"/dialogs/2",isOnline:!1},{id:Object(ta.a)(),name:"Arkasha",pathToDialog:"/dialogs/3",isOnline:!0},{id:Object(ta.a)(),name:"Tolik",pathToDialog:"/dialogs/4",isOnline:!1}]},oa={users:[],totalUsersCount:0,pageSize:100,currentPage:1,isFetching:!0,isFollowingInProgress:[]},ca={id:null,email:null,login:null,captcha:"",isAuth:!1,error:null},sa=a(168),ia={isInitialized:!1,error:null},la=Object(oe.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.ADD_POST:var a=t.value,n={id:Object(ta.a)(),message:a};return e=Object(ea.a)(Object(ea.a)({},e),{},{posts:[].concat(Object($t.a)(e.posts),[n])});case o.SET_USER_PROFILE:return Object(ea.a)(Object(ea.a)({},e),{},{userProfile:t.userProfile});case o.SET_IS_FETCHING:return Object(ea.a)(Object(ea.a)({},e),{},{isFetching:t.isFetching});case o.SET_STATUS_PROFILE:return Object(ea.a)(Object(ea.a)({},e),{},{profileStatus:t.statusProfile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.ADD_MESSAGE:var a=t.message,n={id:Object(ta.a)(),message:a};return e=Object(ea.a)(Object(ea.a)({},e),{},{messages:[].concat(Object($t.a)(e.messages),[n])});default:return e}},navPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra;arguments.length>1&&arguments[1];return Object(ea.a)({},e)},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.FOLLOW_TO_USER:return Object(ea.a)(Object(ea.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(ea.a)(Object(ea.a)({},e),{},{followed:!0}):e}))});case o.UNFOLLOW_TO_USER:return Object(ea.a)(Object(ea.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(ea.a)(Object(ea.a)({},e),{},{followed:!1}):e}))});case o.SET_USERS:return Object(ea.a)(Object(ea.a)({},e),{},{users:Object($t.a)(t.users)});case o.SET_TOTAL_USERS_COUNT:return Object(ea.a)(Object(ea.a)({},e),{},{totalUsersCount:t.totalUsersCount});case o.SET_CURRENT_PAGE:return Object(ea.a)(Object(ea.a)({},e),{},{currentPage:t.currentPage});case o.SET_IS_FETCHING:return Object(ea.a)(Object(ea.a)({},e),{},{isFetching:t.isFetching});case o.SET_FOLLOWING_IN_PROGRESS:return Object(ea.a)(Object(ea.a)({},e),{},{isFollowingInProgress:t.isFollowingProgress?[].concat(Object($t.a)(e.isFollowingInProgress),[t.userId]):Object($t.a)(e.isFollowingInProgress.filter((function(e){return e!==t.userId})))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.SET_AUTH_DATA:var a=Object(ea.a)(Object(ea.a)({},e),t.authData),n=!!a.login;return Object(ea.a)(Object(ea.a)({},a),{},{isAuth:n});case o.SET_AUTH_ERROR:return Object(ea.a)(Object(ea.a)({},e),{},{error:t.error?t.error:null});case o.SET_CAPTCHA_VALUE:return Object(ea.a)(Object(ea.a)({},e),{},{captcha:t.captcha});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.INITIALIZED_APP:return Object(ea.a)(Object(ea.a)({},e),{},{isInitialized:!0});case o.SET_ERROR:return Object(ea.a)(Object(ea.a)({},e),{},{error:t.error});default:return e}}}),_a=Object(oe.e)(la,Object(oe.a)(sa.a));window.store=_a;var ua=function(e){s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(A.a,{store:_a},r.a.createElement(Qt,{state:e,dispatch:_a.dispatch.bind(_a)})))),document.getElementById("root"))};ua(_a.getState()),_a.subscribe((function(){return ua(_a.getState())})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},26:function(e,t,a){e.exports={content__wrapper:"users_content__wrapper__I5n30",content__wrapper_pagination:"users_content__wrapper_pagination__1MNj0",content__item:"users_content__item__2Yyhu",content__item_img:"users_content__item_img__1D76Z",content__item_button_unfollow:"users_content__item_button_unfollow__2pV61",content__item_button_follow:"users_content__item_button_follow__AmX_9",content__item_info:"users_content__item_info__1Xs8f",content__item_info_name:"users_content__item_info_name__2HvF9",content__item_info_status:"users_content__item_info_status__3AGlj",page:"users_page__3334I",active_page:"users_active_page__aZlPL",circleProgress:"users_circleProgress__3z0Io",scrollTop_wrapper:"users_scrollTop_wrapper__uMiAi",scrollTop:"users_scrollTop__pkMse",fadeIn:"users_fadeIn__2Gngt"}},28:function(e,t,a){e.exports={content__profileInfo:"profileInfo_content__profileInfo__P8qcm",content__mainInfo:"profileInfo_content__mainInfo__10Oib",content__mainInfo_avatar:"profileInfo_content__mainInfo_avatar__1toRH",content__mainInfo_contactStatus:"profileInfo_content__mainInfo_contactStatus__s_GZD",content__mainInfo_contactStatus_spanContent:"profileInfo_content__mainInfo_contactStatus_spanContent__3l0nE",content__description:"profileInfo_content__description__2dMvU",content__description_aboutMe:"profileInfo_content__description_aboutMe__21nxh",content__description_contacts:"profileInfo_content__description_contacts__1kNa-",content__description_fullName:"profileInfo_content__description_fullName__3yYXC",content__description_searchJob:"profileInfo_content__description_searchJob__1LMz1",content__description_desriptionOfJob:"profileInfo_content__description_desriptionOfJob__2lpvY",content__socialLinks:"profileInfo_content__socialLinks__BbwaC"}},45:function(e,t,a){e.exports={nav__friendsBlock_item:"friendsBlock_nav__friendsBlock_item__22hEe",nav__friendsBlock_item_img:"friendsBlock_nav__friendsBlock_item_img__fQY5A",nav__friendsBlock_item_name:"friendsBlock_nav__friendsBlock_item_name__1TGRU",nav__friendsBlock_item_onlineStatus:"friendsBlock_nav__friendsBlock_item_onlineStatus__QYJgV"}},62:function(e,t,a){e.exports={dialogs:"dialogs_dialogs__1LacB",wrapper__header:"dialogs_wrapper__header__2SJHX",dialogs__people:"dialogs_dialogs__people__1uaFk",dialogs__messages:"dialogs_dialogs__messages__1tidq",dialogs__messages_newMesssage:"dialogs_dialogs__messages_newMesssage__b5FW8",dialogs__messages_newMesssage_textarea:"dialogs_dialogs__messages_newMesssage_textarea__1fPCD",dialogs__messages_newMesssage_button:"dialogs_dialogs__messages_newMesssage_button__1mrcq"}},63:function(e,t,a){e.exports={captcha__content:"loginForm_captcha__content__3Pg_c",captcha__content_img:"loginForm_captcha__content_img__2D3af",styleError:"loginForm_styleError__rOP6O"}},71:function(e,t,a){e.exports={header:"header_header__28bqR",header__wrapper:"header_header__wrapper__1rCLi",header__wrapper_img:"header_header__wrapper_img__3B4XV",header__authBlock:"header_header__authBlock__3SaVn",header__authBlock_login:"header_header__authBlock_login__3iRv5",header__logOutBtn:"header_header__logOutBtn__1lZF5"}}},[[178,1,2]]]);
//# sourceMappingURL=main.b8ab3a91.chunk.js.map