(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,a){e.exports={content__profileInfo:"profileInfo_content__profileInfo__P8qcm",content__mainInfo:"profileInfo_content__mainInfo__10Oib",content__mainInfo_contactStatus:"profileInfo_content__mainInfo_contactStatus__s_GZD",content__mainInfo_contactStatus_spanContent:"profileInfo_content__mainInfo_contactStatus_spanContent__3l0nE",content__mainInfo_avatar:"profileInfo_content__mainInfo_avatar__1toRH",content__mainInfo_photoBtn:"profileInfo_content__mainInfo_photoBtn__rhqhX",content__description:"profileInfo_content__description__2dMvU",content__description_editBtn:"profileInfo_content__description_editBtn__3snD1",content__description_aboutMe:"profileInfo_content__description_aboutMe__21nxh",content__description_contacts:"profileInfo_content__description_contacts__1kNa-",content__description_fullName:"profileInfo_content__description_fullName__3yYXC",content__description_searchJob:"profileInfo_content__description_searchJob__1LMz1",content__description_desriptionOfJob:"profileInfo_content__description_desriptionOfJob__2lpvY",content__socialLinks:"profileInfo_content__socialLinks__BbwaC"}},126:function(e,t,a){e.exports={nav:"nav_nav__32Dtx",wrap__title:"nav_wrap__title__1fJvA"}},127:function(e,t,a){e.exports={content:"myPost_content__1RSxM",content__img:"myPost_content__img__ab0v1",content__text:"myPost_content__text__2GZxT"}},128:function(e,t,a){e.exports={login__content:"login_login__content__1Gnuf",login__content_inner:"login_login__content_inner__LIZKO",login__content_inner_textHelper:"login_login__content_inner_textHelper__aDKMn"}},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(171),r=a(0),o=a.n(r),c=a(14),i=a(16),l=function(e){return{isAuth:e.auth.isAuth}};function s(e){return Object(i.b)(l)((function(t){var a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?o.a.createElement(e,r):o.a.createElement(c.a,{to:"/login"})}))}},157:function(e,t,a){e.exports={content:"news_content__kswPX"}},158:function(e,t,a){e.exports={content:"settings_content__3LtiA"}},159:function(e,t,a){e.exports={content:"profile_content__1q3D6"}},160:function(e,t,a){e.exports={content__posts:"myPosts_content__posts__2Gi5V"}},167:function(e,t,a){e.exports=a.p+"static/media/logo.d243bdd9.png"},178:function(e,t,a){e.exports=a(207)},180:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t),a.d(t,"renderAppTree",(function(){return Ut}));var n=a(0),r=a.n(n);a(180),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(10),c=a.n(o),i=a(33),l=a(14),s=a(88),u=a.n(s),_=a(126),m=a.n(_),p=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:e.path},r.a.createElement("li",null,e.title)))})),d=a(32),f=a.n(d),h=a(258),E=a(262),b=a(246),g=a(209),O=a(247),v=a(4),P=a(245),S=a(75),j=a.n(S),T=Object(v.a)({root:{"& .MuiAccordionDetails-root":{padding:"0px"}}})(h.a),I=Object(P.a)((function(e){return Object(E.a)({root:{width:"100%","& .MuiAccordionDetails":{padding:"0px"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentBlock:{width:"100%"},contentBlockWrapper:{width:"100%"},contentBlockWrapperRoot:{width:"100%"}})})),A=r.a.memo((function(e){var t=I();return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{className:"".concat(f.a.MuiPaperRoot," ").concat(f.a.contentBlockWrapperRoot)},r.a.createElement(b.a,{expandIcon:r.a.createElement(j.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(g.a,{className:t.heading},"Friends")),r.a.createElement(O.a,{className:t.contentBlockWrapper},r.a.createElement(g.a,{component:"span",className:t.contentBlock},e.friends.map((function(e){return r.a.createElement("div",{key:e.id,className:f.a.nav__friendsBlock_item},r.a.createElement("div",{className:f.a.nav__friendsBlock_item_img},r.a.createElement("img",{src:"https://i.ibb.co/F8yML1z/image.png",alt:""})),r.a.createElement("div",{className:f.a.nav__friendsBlock_item_name},r.a.createElement(i.b,{to:e.pathToDialog},e.name)),e.isOnline&&r.a.createElement("div",{className:f.a.nav__friendsBlock_item_onlineStatus}))}))))))})),k=a(16),N=r.a.memo((function(e){var t=Object(k.d)((function(e){return e.auth.isAuth}));return r.a.createElement("div",{className:m.a.nav},r.a.createElement("div",{className:m.a.wrap__title},e.navPage.navTitles.map((function(e){return r.a.createElement(p,{key:e.id,title:e.title,path:e.path})}))),r.a.createElement("div",{className:m.a.nav__friendsBlock},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{friends:e.navPage.friends}))))})),y=a(157),R=a.n(y),w=r.a.memo((function(){return r.a.createElement("div",{className:R.a.content},"The page of news is being developed")})),U=a(158),F=a.n(U),D=r.a.memo((function(){return r.a.createElement("div",{className:F.a.content},"The page of settings is being developed")})),C=a(109),L=a(110),x=a(119),B=a(122),M=a(159),H=a.n(M),W=a(160),J=a.n(W),G=a(127),z=a.n(G),V=r.a.memo((function(e){return r.a.createElement("div",{className:z.a.content},r.a.createElement("div",{className:z.a.content__img},r.a.createElement("img",{src:e.photo?e.photo:"https://i.ibb.co/F8yML1z/image.png",alt:""})),r.a.createElement("div",{className:z.a.content__text},r.a.createElement("span",null,e.message)))})),q=a(7),Z=a(95),Y=a.n(Z),X=a(72),K=a(263),Q=a(248),$=a(249),ee=a(254),te=a(251),ae=a(20),ne=ae.a({textareaPost:ae.b().max(300,"post should consists 300 char or less")}),re=r.a.memo((function(e){var t=Object(X.a)({initialValues:{textareaPost:""},validationSchema:ne,onSubmit:function(t,a){var n=a.resetForm;t.textareaPost&&e.addPost(t.textareaPost),n({values:void 0})}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,null,r.a.createElement("form",{onSubmit:t.handleSubmit},r.a.createElement($.a,{container:!0,direction:"column",spacing:3},r.a.createElement($.a,{item:!0},r.a.createElement("div",{className:Y.a.content__textArea},r.a.createElement(ee.a,Object.assign({placeholder:"enter some text...",name:"textareaPost",variant:"outlined",multiline:!0,rows:2,rowsMax:4},t.getFieldProps("textareaPost")))),t.errors.textareaPost&&t.touched.textareaPost?r.a.createElement("div",{style:{color:"red"}},t.errors.textareaPost):null),r.a.createElement($.a,{item:!0},r.a.createElement("div",{className:Y.a.content__button},r.a.createElement(te.a,{type:"submit",variant:"contained"},"PUBLISH"))))))))})),oe=r.a.memo((function(e){return r.a.createElement("div",{className:Y.a.content},r.a.createElement(re,{addPost:e.addPost}))})),ce=Object(k.b)(null,{addPost:q.b})(oe),ie=r.a.memo((function(e){return r.a.createElement("div",{className:J.a.content__posts},r.a.createElement("h4",null,r.a.createElement("span",null,"Create a new post:")),r.a.createElement(ce,null),e.posts.map((function(t){return r.a.createElement(V,{message:t.message,key:t.id,photo:e.photo})})))})),le=a(62),se=a(12),ue=a.n(se),_e=a(165),me=a.n(_e),pe=a(208),de=Object(v.a)({root:{"& .MuiAccordionDetails-root":{padding:"0px"}}})(h.a),fe=Object(P.a)((function(e){return Object(E.a)({root:{width:"100%","& .MuiAccordionDetails":{padding:"0px"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentBlock:{width:"100%"},contentBlockWrapper:{width:"100%"},contentBlockWrapperRoot:{width:"100%"}})})),he=function(e){var t,a=fe();e.userProfile&&e.userProfile.contacts&&(t=Object.keys(e.userProfile.contacts).map((function(t){return r.a.createElement("div",{className:ue.a.content__socialLinks,key:t},r.a.createElement("span",null,r.a.createElement("b",null,t),": ",e.userProfile.contacts[t]))})));return r.a.createElement("div",{className:ue.a.content__description_contacts},r.a.createElement(de,{className:"".concat(f.a.MuiPaperRoot," ").concat(f.a.contentBlockWrapperRoot)},r.a.createElement(b.a,{expandIcon:r.a.createElement(j.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(g.a,{className:a.heading},r.a.createElement("b",null,"Contacts:"))),r.a.createElement(O.a,{className:a.contentBlockWrapper},r.a.createElement(g.a,{className:a.contentBlock,component:"span"},t))))},Ee=function(e){var t,a,n,o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ue.a.content__description_aboutMe},r.a.createElement("b",null,"About me"),": ",null===(t=e.userProfile)||void 0===t?void 0:t.aboutMe),r.a.createElement("div",{className:ue.a.content__description_searchJob},r.a.createElement("b",null,"Search a job:")," ",(null===(a=e.userProfile)||void 0===a?void 0:a.lookingForAJob)?"Yes":"No"),(null===(n=e.userProfile)||void 0===n?void 0:n.lookingForAJob)&&r.a.createElement("div",{className:ue.a.content__description_desriptionOfJob},r.a.createElement("b",null,"Description of job:")," ",(null===(o=e.userProfile)||void 0===o?void 0:o.lookingForAJobDescription)?e.userProfile.lookingForAJobDescription:"No description"),r.a.createElement(he,{userProfile:e.userProfile}))},be=r.a.memo((function(e){var t=e.userId;t||(t="7788");var a=Object(n.useState)(!1),o=Object(le.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)(e.status),s=Object(le.a)(l,2),u=s[0],_=s[1],m=Object(n.useCallback)((function(){e.updateStatus(u),i(!1)}),[u]);Object(n.useEffect)((function(){_(e.status)}),[e.status]);return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,"Status: ")),c&&"7788"==t?r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:u,onChange:function(e){_(e.currentTarget.value)},onBlur:m,autoFocus:!0})):r.a.createElement("div",{className:ue.a.content__mainInfo_contactStatus_spanContent},r.a.createElement("span",{onDoubleClick:function(){return i(!0)}},e.status)))})),ge=a(6),Oe=a(256),ve=ae.a().shape({aboutMe:ae.b().required().max(300,"300 or less chars"),lookingForAJobDescription:ae.b().required().max(300,"300 or less chars"),contacts:ae.a({facebook:ae.b().length(30,"30 or less chars"),website:ae.b().length(30,"30 or less chars"),vk:ae.b().length(30,"30 or less chars"),twitter:ae.b().length(30,"30 or less chars"),instagram:ae.b().length(30,"30 or less chars"),github:ae.b().length(30,"30 or less chars"),youtube:ae.b().length(30,"30 or less chars"),mainLink:ae.b().length(30,"30 or less chars")})}),Pe=Object(v.a)({root:{"& .MuiAccordionDetails-root":{padding:"0px"}}})(h.a),Se=Object(P.a)((function(e){return Object(E.a)({root:{width:"100%","& .MuiAccordionDetails":{padding:"0px"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentBlock:{width:"100%"},contentBlockWrapper:{width:"100%"},contentBlockWrapperRoot:{width:"100%"}})})),je=function(e){var t,a,o=Object(n.useState)(e.userProfile.lookingForAJob),c=Object(le.a)(o,2),i=c[0],l=c[1],s=Se(),u=Object(X.a)({validationSchema:ve,initialValues:{aboutMe:e.userProfile.aboutMe,lookingForAJob:e.userProfile.lookingForAJob,lookingForAJobDescription:e.userProfile.lookingForAJobDescription,contacts:{facebook:e.userProfile.contacts.facebook,website:e.userProfile.contacts.website,vk:e.userProfile.contacts.vk,twitter:e.userProfile.contacts.twitter,instagram:e.userProfile.contacts.instagram,github:e.userProfile.contacts.github,youtube:e.userProfile.contacts.youtube,mainLink:e.userProfile.contacts.mainLink}},onSubmit:function(t){e.updateProfileData(Object(ge.a)({userId:e.userId,fullName:e.fullName},t)),e.setEditeModeHandler()}});e.userProfile&&e.userProfile.contacts&&(a=Object.keys(e.userProfile.contacts).map((function(e){return r.a.createElement("div",{className:ue.a.content__socialLinks,key:e},r.a.createElement("span",null,r.a.createElement("b",null,e),":",r.a.createElement(ee.a,{id:"".concat(e),name:"contacts.".concat(e),type:"text",onChange:u.handleChange,value:u.values.contacts[e]})))})));var _={color:"red"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:u.handleSubmit},r.a.createElement("div",{className:ue.a.content__description_aboutMe},r.a.createElement("b",null,"About me:"),r.a.createElement(ee.a,{id:"AboutMe",name:"aboutMe",type:"text",onChange:u.handleChange,value:u.values.aboutMe,rows:3,variant:"outlined"}),u.errors.aboutMe&&u.touched.aboutMe?r.a.createElement("div",{style:_},u.errors.aboutMe):null),r.a.createElement("div",{className:ue.a.content__description_searchJob},r.a.createElement("b",null,"Search a job:"),r.a.createElement(Oe.a,{checked:u.values.lookingForAJob,onChange:function(e){l(!e.currentTarget.checked),u.handleChange(e)},name:"lookingForAJob",color:"primary"})),((null===(t=e.userProfile)||void 0===t?void 0:t.lookingForAJob)||!i)&&r.a.createElement("div",{className:ue.a.content__description_desriptionOfJob},r.a.createElement("b",null,"Description of job:"),r.a.createElement(ee.a,{id:"lookingForAJobDescription",name:"lookingForAJobDescription",type:"text",onChange:u.handleChange,value:u.values.lookingForAJobDescription,rows:3,variant:"outlined"}),u.errors.lookingForAJobDescription&&u.touched.lookingForAJobDescription?r.a.createElement("div",{style:_},u.errors.lookingForAJobDescription):null),r.a.createElement("div",{className:ue.a.content__description_contacts},r.a.createElement(Pe,{className:"".concat(f.a.MuiPaperRoot," ").concat(f.a.contentBlockWrapperRoot)},r.a.createElement(b.a,{expandIcon:r.a.createElement(j.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(g.a,{className:s.heading},r.a.createElement("b",null,"Contacts:"))),r.a.createElement(O.a,{className:s.contentBlockWrapper},r.a.createElement(g.a,{className:s.contentBlock,component:"span"},a)))),r.a.createElement(te.a,{type:"submit"},"Save")))},Te=a(261),Ie=r.a.memo((function(e){var t,a,o,c,i,l,s=Object(n.useState)(!1),u=Object(le.a)(s,2),_=u[0],m=u[1],p=Object(P.a)((function(e){return Object(E.a)({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})}))();return r.a.createElement("div",{className:ue.a.content__profileInfo},r.a.createElement("div",{className:ue.a.content__mainInfo},r.a.createElement("div",{className:ue.a.content__mainInfo_avatar},r.a.createElement("img",{src:(null===(t=e.userProfile)||void 0===t||null===(a=t.photos)||void 0===a?void 0:a.large)?null===(o=e.userProfile)||void 0===o||null===(c=o.photos)||void 0===c?void 0:c.large:"https://i.imgur.com/d8HZHxF.jpg",alt:""}),!e.paramsUserId&&r.a.createElement("div",{className:ue.a.content__mainInfo_photoBtn},r.a.createElement("input",{accept:"image/*",className:p.input,id:"icon-button-file",type:"file",onChange:function(t){var a=t.target.files;a&&e.updatePhoto(a[0])}}),r.a.createElement("label",{htmlFor:"icon-button-file"},r.a.createElement(pe.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Te.a,{fontSize:"large"}))))),r.a.createElement("div",{className:ue.a.content__mainInfo_contactStatus},r.a.createElement("div",{className:ue.a.content__description_fullName},r.a.createElement("b",null,"FullName"),": ",null===(i=e.userProfile)||void 0===i?void 0:i.fullName),r.a.createElement(be,{status:e.status,updateStatus:e.updateStatus,userId:e.userId}))),r.a.createElement("div",{className:ue.a.content__description},_?r.a.createElement(je,{updatePhoto:e.updatePhoto,paramsUserId:e.paramsUserId,updateStatus:e.updateStatus,userId:e.userId,status:e.status,userProfile:e.userProfile,setEditeModeHandler:function(){m(!1)},fullName:null===(l=e.userProfile)||void 0===l?void 0:l.fullName,updateProfileData:e.updateProfileData}):r.a.createElement(Ee,{updatePhoto:e.updatePhoto,paramsUserId:e.paramsUserId,updateStatus:e.updateStatus,userId:e.userId,status:e.status,userProfile:e.userProfile}),!e.paramsUserId&&!_&&r.a.createElement("div",{className:ue.a.content__description_editBtn},r.a.createElement(pe.a,null,r.a.createElement(me.a,{onClick:function(){return m(!0)},fontSize:"small"})))))})),Ae=a(252),ke=r.a.memo((function(e){var t;return r.a.createElement("div",{className:H.a.content},e.profilePage.isFetching?r.a.createElement(Ae.a,{style:{display:"block",position:"absolute",top:"0",left:"0",bottom:"0",right:"0",margin:"auto"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{userProfile:e.profilePage.userProfile,status:e.profilePage.profileStatus,updateStatus:e.updateStatus,userId:e.userId,paramsUserId:e.paramsUserId,updatePhoto:e.updatePhoto,updateProfileData:e.updateProfileData}),r.a.createElement(ie,{posts:e.profilePage.posts,photo:null===(t=e.profilePage.userProfile.photos)||void 0===t?void 0:t.large})))})),Ne=a(40),ye=a(27),Re=function(e){return function(t){t(Object(q.k)(!0)),Ne.b.setUserProfile(e).then((function(e){t(Object(q.n)(e.data)),t(Object(q.k)(!1))})).catch((function(e){Object(ye.b)(e,t)}))}},we=a(140),Ue=a(46),Fe=a(45),De=Object(Fe.a)((function(e){return e.profilePage}),(function(e){return e})),Ce=Object(Fe.a)((function(e){return e.auth.id}),(function(e){return e})),Le=function(e){Object(B.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(L.a)(a,[{key:"rerenderProfile",value:function(){var e=this.props.match.params.userId;e||(null!==this.props.authUserId?e=this.props.authUserId.toString():this.props.history.push("/login")),this.props.setUserProfile(e),this.props.setStatusProfile(e)}},{key:"componentDidMount",value:function(){this.rerenderProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.rerenderProfile()}},{key:"render",value:function(){return r.a.createElement(ke,{paramsUserId:!!this.props.match.params.userId,profilePage:this.props.profilePage,updateStatus:this.props.updateStatus,userId:this.props.match.params.userId,updatePhoto:this.props.updatePhoto,updateProfileData:this.props.updateProfileData})}}]),a}(r.a.PureComponent),xe=Object(Ue.d)(we.a,l.f,Object(k.b)((function(e){return{profilePage:De(e),authUserId:Ce(e)}}),{setUserProfile:Re,setStatusProfile:function(e){return function(t){t(Object(q.k)(!0)),Ne.b.setStatusProfile(e).then((function(e){t(Object(q.l)(e.data))})).catch((function(e){Object(ye.b)(e,t)}))}},updateStatus:function(e){return function(t){Ne.b.updateStatusProfile(e).then((function(){t(Object(q.l)(e))})).catch((function(e){Object(ye.b)(e,t)}))}},updatePhoto:function(e){return function(t){Ne.b.updateProfilePhoto(e).then((function(e){0===e.data.resultCode?t(Object(q.r)(e.data.data.photos)):Object(ye.a)(e,t)})).catch((function(e){Object(ye.b)(e,t)}))}},updateProfileData:function(e){return function(t,a){var n=a().auth.id.toString();Ne.b.updateProfileData(e).then((function(e){0===e.data.resultCode?t(Re(n)):Object(ye.a)(e,t)})).catch((function(e){Object(ye.b)(e,t)}))}}}))(Le),Be=a(70),Me=a.n(Be),He=a(167),We=a.n(He),Je=a(168),Ge=a.n(Je),ze=r.a.memo((function(e){var t=Object(n.useCallback)((function(){e.logOutProfile()}),[e.logOutProfile]);return r.a.createElement("div",{className:Me.a.header},r.a.createElement("div",{className:Me.a.header__wrapper},r.a.createElement("div",{className:Me.a.header__wrapper_img},r.a.createElement("img",{src:We.a,alt:"logo"})),r.a.createElement("div",{className:Me.a.header__authBlock},e.isAuth?r.a.createElement("div",{className:Me.a.header__authBlock_login},r.a.createElement("span",null,e.login),r.a.createElement("div",{className:Me.a.header__logOutBtn},r.a.createElement(te.a,{variant:"contained",onClick:t},r.a.createElement(Ge.a,null),"LOG OUT"))):r.a.createElement(i.b,{to:"/login"},"Sign In"))))})),Ve=function(){return function(e){Ne.a.getCaptcha().then((function(t){e(Object(q.g)(t.data.url))}))}},qe=function(){return function(e){return Ne.a.setAuth().then((function(t){0===t.data.resultCode?e(Object(q.e)(t.data.data)):Object(ye.a)(t,e)})).catch((function(t){Object(ye.b)(t,e)}))}},Ze=Object(Fe.a)((function(e){return e.auth.isAuth}),(function(e){return e})),Ye=Object(Fe.a)((function(e){return e.auth.error}),(function(e){return e})),Xe=Object(Fe.a)((function(e){return e.auth.captcha}),(function(e){return e})),Ke=Object(Fe.a)((function(e){return e.auth.login}),(function(e){return e})),Qe=function(e){Object(B.a)(a,e);var t=Object(x.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(L.a)(a,[{key:"render",value:function(){return r.a.createElement(ze,{isAuth:this.props.isAuth,login:this.props.login,logOutProfile:this.props.logOutProfile})}}]),a}(n.PureComponent),$e=Object(k.b)((function(e){return{isAuth:Ze(e),login:Ke(e)}}),{logOutProfile:function(){return function(e){Ne.a.logout().then((function(t){0===t.data.resultCode?e(Object(q.e)({email:null,login:null,id:null})):Object(ye.a)(t,e)})).catch((function(t){Object(ye.b)(t,e)}))}}})(Qe),et=a(61),tt=a.n(et),at=a(253),nt=a(169),rt=a.n(nt),ot=ae.a({email:ae.b().email("Enter a valid email").required("Email is required"),password:ae.b().min(8,"Minimum 8 characters length").max(20,"Max 20 characters length").required("Password is required")}),ct=r.a.memo((function(e){var t=e.error,a=e.login,n=e.captcha,o=Object(X.a)({initialValues:{email:"",password:"",rememberMe:!1,captcha:""},validationSchema:ot,onSubmit:function(e,t){var n=t.resetForm;a(e.email,e.password,e.rememberMe,e.captcha),n({values:void 0})}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,null,r.a.createElement("form",{onSubmit:o.handleSubmit},r.a.createElement($.a,{container:!0,direction:"column",spacing:2},r.a.createElement($.a,{item:!0},r.a.createElement("div",null,r.a.createElement(ee.a,Object.assign({name:"email",label:"email",variant:"outlined"},o.getFieldProps("email"),{InputProps:{classes:{root:tt.a.fieldErr}}}))),o.errors.email&&o.touched.email?r.a.createElement("div",{className:tt.a.styleError},o.errors.email):null),r.a.createElement($.a,{item:!0},r.a.createElement("div",null,r.a.createElement(ee.a,Object.assign({name:"password",label:"password",type:"password",variant:"outlined"},o.getFieldProps("password")))),!o.errors.password&&t?r.a.createElement("div",{className:tt.a.styleError},t):null,o.errors.password&&o.touched.password?r.a.createElement("div",{className:tt.a.styleError},o.errors.password):null),r.a.createElement($.a,{item:!0},r.a.createElement("div",null,r.a.createElement(at.a,{label:"Remember me",control:r.a.createElement(Oe.a,Object.assign({name:"rememberMe"},o.getFieldProps("rememberMe")))}))),n&&r.a.createElement($.a,{item:!0},r.a.createElement("div",{className:tt.a.captcha__content},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("div",{className:tt.a.captcha__content_img},r.a.createElement(rt.a,{style:{fontSize:30},onClick:function(){e.getCaptcha()}}))),r.a.createElement(ee.a,Object.assign({name:"captcha",label:"captcha"},o.getFieldProps("captcha")))),r.a.createElement($.a,{item:!0},r.a.createElement("div",null,r.a.createElement(te.a,{type:"submit",variant:"contained"},"LOG IN"))))))))})),it=a(128),lt=a.n(it),st=r.a.memo((function(e){var t=Object(n.useCallback)((function(){e.getCaptcha()}),[e.getCaptcha]);return r.a.createElement("div",{className:lt.a.login__content},r.a.createElement("div",{className:lt.a.login__content_inner_textHelper},r.a.createElement("h4",null,"You can enter and test features using those data:"),r.a.createElement("span",null,"login:"),r.a.createElement("b",null," vladby86@gmail.com"),r.a.createElement("br",null),r.a.createElement("span",null,"password:"),r.a.createElement("b",null," HardPassword_2020")),e.isAuth?r.a.createElement(l.a,{to:"/profile"}):r.a.createElement("div",{className:lt.a.login__content_inner},r.a.createElement("h1",null,"Login"),r.a.createElement(ct,{login:e.login,error:e.error,captcha:e.captcha,getCaptcha:t})))})),ut=r.a.memo((function(e){var t=Object(n.useCallback)((function(t,a,n,r){e.postLoginData(t,a,n,r)}),[e]);return r.a.createElement(st,{login:t,isAuth:e.isAuth,error:e.error,captcha:e.captcha,getCaptcha:e.getCaptcha})})),_t=Object(k.b)((function(e){return{isAuth:Ze(e),error:Ye(e),captcha:Xe(e)}}),{postLoginData:function(e,t,a,n){return function(r){r(Object(q.f)(null)),Ne.a.logIn(e,t,a,n).then((function(e){0===e.data.resultCode?r(qe()):10===e.data.resultCode?r(Ve()):Object(ye.a)(e,r)})).catch((function(e){Object(ye.b)(e,r)}))}},getCaptcha:Ve})(ut),mt=a(259),pt=a(255),dt=Object(P.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),ft=function(e){var t=Object(k.d)((function(e){return e.app.error})),a=Object(k.c)(),n=dt(),o=function(e,t){"clickaway"!==t&&a(Object(q.i)(null))};return r.a.createElement("div",{className:n.root},r.a.createElement(mt.a,{open:null!==t,autoHideDuration:6e3,onClose:o},r.a.createElement(ht,{onClose:o,severity:"error"},t)))};function ht(e){return r.a.createElement(pt.a,Object.assign({elevation:6,variant:"filled"},e))}function Et(e){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(Ae.a,{className:u.a.circleProgress})},r.a.createElement(e,null))}var bt=r.a.lazy((function(){return a.e(3).then(a.bind(null,273)).then((function(e){return{default:e.DialogContainer}}))})),gt=r.a.lazy((function(){return Promise.all([a.e(5),a.e(4)]).then(a.bind(null,272))})),Ot=r.a.memo((function(e){var t=Object(k.d)((function(e){return e.app.isInitialized})),a=Object(k.c)();return Object(n.useEffect)((function(){a((function(e){e(qe()).then((function(){})).finally((function(){e(Object(q.d)())}))}))}),[]),t?r.a.createElement("div",{className:u.a.app__wrapper},r.a.createElement($e,null),r.a.createElement(N,{navPage:e.state.navPage}),r.a.createElement("div",{className:u.a.app__wrapper_content},r.a.createElement(l.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(l.b,{path:"/dialogs",render:function(){return Et(bt)}}),r.a.createElement(l.b,{path:"/users",render:function(){return Et(gt)}}),r.a.createElement(l.b,{path:"/news",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(l.b,{path:"/settings",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(l.b,{path:"/login",render:function(){return r.a.createElement(_t,null)}}),r.a.createElement(ft,null))):r.a.createElement(Ae.a,{className:u.a.circleProgress})})),vt=a(60),Pt=a(257),St={posts:[{id:Object(Pt.a)(),message:"Hey girls"},{id:Object(Pt.a)(),message:"Hey guys"}],userProfile:{},isFetching:!1,profileStatus:""},jt={names:[{id:Object(Pt.a)(),name:"Marat",path:"/dialogs/1"},{id:Object(Pt.a)(),name:"Anton",path:"/dialogs/2"},{id:Object(Pt.a)(),name:"Arkasha",path:"/dialogs/3"},{id:Object(Pt.a)(),name:"Tolik",path:"/dialogs/4"}],messages:[{id:Object(Pt.a)(),message:"Hey man!"},{id:Object(Pt.a)(),message:"How is it going?"},{id:Object(Pt.a)(),message:"You forgot about my birthday(("},{id:Object(Pt.a)(),message:"I want to break up with you, sorry"}]},Tt={navTitles:[{id:Object(Pt.a)(),title:"Profile",path:"/profile"},{id:Object(Pt.a)(),title:"Dialogs",path:"/dialogs"},{id:Object(Pt.a)(),title:"Users",path:"/users"},{id:Object(Pt.a)(),title:"News",path:"/news"},{id:Object(Pt.a)(),title:"Settings",path:"/settings"}],friends:[{id:Object(Pt.a)(),name:"Marat",pathToDialog:"/dialogs/1",isOnline:!0},{id:Object(Pt.a)(),name:"Anton",pathToDialog:"/dialogs/2",isOnline:!1},{id:Object(Pt.a)(),name:"Arkasha",pathToDialog:"/dialogs/3",isOnline:!0},{id:Object(Pt.a)(),name:"Tolik",pathToDialog:"/dialogs/4",isOnline:!1}]},It={users:[],totalUsersCount:0,pageSize:100,currentPage:1,isFetching:!0,isFollowingInProgress:[]},At={id:null,email:null,login:null,captcha:"",isAuth:!1,error:null},kt=a(170),Nt={isInitialized:!1,error:null},yt=Object(Ue.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.p.ADD_POST:var a=t.value,n={id:Object(Pt.a)(),message:a};return e=Object(ge.a)(Object(ge.a)({},e),{},{posts:[].concat(Object(vt.a)(e.posts),[n])});case q.p.SET_USER_PROFILE:return Object(ge.a)(Object(ge.a)({},e),{},{userProfile:t.userProfile});case q.p.SET_IS_FETCHING:return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:t.isFetching});case q.p.SET_STATUS_PROFILE:return Object(ge.a)(Object(ge.a)({},e),{},{profileStatus:t.statusProfile});case q.p.UPDATE_PHOTO:return Object(ge.a)(Object(ge.a)({},e),{},{userProfile:Object(ge.a)(Object(ge.a)({},e.userProfile),{},{photos:t.photo})});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.p.ADD_MESSAGE:var a=t.message,n={id:Object(Pt.a)(),message:a};return e=Object(ge.a)(Object(ge.a)({},e),{},{messages:[].concat(Object(vt.a)(e.messages),[n])});default:return e}},navPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;arguments.length>1&&arguments[1];return Object(ge.a)({},e)},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.p.FOLLOW_TO_USER:return Object(ge.a)(Object(ge.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(ge.a)(Object(ge.a)({},e),{},{followed:!0}):e}))});case q.p.UNFOLLOW_TO_USER:return Object(ge.a)(Object(ge.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(ge.a)(Object(ge.a)({},e),{},{followed:!1}):e}))});case q.p.SET_USERS:return Object(ge.a)(Object(ge.a)({},e),{},{users:Object(vt.a)(t.users)});case q.p.SET_TOTAL_USERS_COUNT:return Object(ge.a)(Object(ge.a)({},e),{},{totalUsersCount:t.totalUsersCount});case q.p.SET_CURRENT_PAGE:return Object(ge.a)(Object(ge.a)({},e),{},{currentPage:t.currentPage});case q.p.SET_IS_FETCHING:return Object(ge.a)(Object(ge.a)({},e),{},{isFetching:t.isFetching});case q.p.SET_FOLLOWING_IN_PROGRESS:return Object(ge.a)(Object(ge.a)({},e),{},{isFollowingInProgress:t.isFollowingProgress?[].concat(Object(vt.a)(e.isFollowingInProgress),[t.userId]):Object(vt.a)(e.isFollowingInProgress.filter((function(e){return e!==t.userId})))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.p.SET_AUTH_DATA:var a=Object(ge.a)(Object(ge.a)({},e),t.authData),n=!!a.login;return Object(ge.a)(Object(ge.a)({},a),{},{isAuth:n});case q.p.SET_AUTH_ERROR:return Object(ge.a)(Object(ge.a)({},e),{},{error:t.error?t.error:null});case q.p.SET_CAPTCHA_VALUE:return Object(ge.a)(Object(ge.a)({},e),{},{captcha:t.captcha});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.p.INITIALIZED_APP:return Object(ge.a)(Object(ge.a)({},e),{},{isInitialized:!0});case q.p.SET_ERROR:return Object(ge.a)(Object(ge.a)({},e),{},{error:t.error});default:return e}}}),Rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ue.d,wt=Object(Ue.e)(yt,Rt(Object(Ue.a)(kt.a))),Ut=function(e){c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(k.a,{store:wt},r.a.createElement(Ot,{state:e,dispatch:wt.dispatch.bind(wt)})))),document.getElementById("root"))};Ut(wt.getState()),wt.subscribe((function(){return Ut(wt.getState())})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(7),r=function(e,t){e.message?t(Object(n.i)(e.message)):t(Object(n.i)("undefined network error"))},o=function(e,t){e.data.messages.length?t(Object(n.i)(e.data.messages[0])):t(Object(n.i)("some error"))}},32:function(e,t,a){e.exports={nav__friendsBlock_item:"friendsBlock_nav__friendsBlock_item__22hEe",nav__friendsBlock_item_img:"friendsBlock_nav__friendsBlock_item_img__fQY5A",nav__friendsBlock_item_name:"friendsBlock_nav__friendsBlock_item_name__1TGRU",nav__friendsBlock_item_onlineStatus:"friendsBlock_nav__friendsBlock_item_onlineStatus__QYJgV"}},40:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(166),r=a.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"959808d3-8efe-42bd-88eb-3693675e6c98"}}),o={setUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t))},unfollow:function(e){return r.delete("follow/".concat(e))},follow:function(e){return r.post("follow/".concat(e))}},c={setAuth:function(){return r.get("auth/me")},logIn:function(e,t,a,n){return r.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},logout:function(){return r.delete("auth/login")},getCaptcha:function(){return r.get("/security/get-captcha-url")}},i={setUserProfile:function(e){return r.get("profile/".concat(e))},setStatusProfile:function(e){return r.get("profile/status/".concat(e))},updateStatusProfile:function(e){return r.put("profile/status",{status:e})},updateProfilePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},updateProfileData:function(e){return r.put("profile",e)}}},61:function(e,t,a){e.exports={captcha__content:"loginForm_captcha__content__3Pg_c",captcha__content_img:"loginForm_captcha__content_img__2D3af",styleError:"loginForm_styleError__rOP6O"}},7:function(e,t,a){"use strict";var n;a.d(t,"p",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"q",(function(){return i})),a.d(t,"o",(function(){return l})),a.d(t,"m",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"k",(function(){return _})),a.d(t,"n",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"j",(function(){return d})),a.d(t,"l",(function(){return f})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return E})),a.d(t,"d",(function(){return b})),a.d(t,"i",(function(){return g})),a.d(t,"r",(function(){return O})),function(e){e.ADD_MESSAGE="DIALOG/ADD_MESSAGE",e.ADD_POST="PROFILE/ADD_POST",e.FOLLOW_TO_USER="USERS/FOLLOW_TO_USER",e.UNFOLLOW_TO_USER="USERS/UNFOLLOW_TO_USER",e.SET_USERS="USERS/SET_USERS",e.SET_TOTAL_USERS_COUNT="USERS/SET_TOTAL_USERS_COUNT",e.SET_CURRENT_PAGE="USERS/SET_CURRENT_PAGE",e.SET_IS_FETCHING="SET_IS_FETCHING",e.SET_USER_PROFILE="PROFILE/SET_USER_PROFILE",e.SET_AUTH_DATA="AUTH/SET_AUTH_DATA",e.SET_FOLLOWING_IN_PROGRESS="USERS/SET_FOLLOWING_IN_PROGRESS",e.SET_STATUS_PROFILE="PROFILE/SET_STATUS_PROFILE",e.SET_AUTH_ERROR="AUTH/SET_AUTH_ERROR",e.SET_CAPTCHA_VALUE="AUTH/SET_CAPTCHA_VALUE",e.INITIALIZED_APP="APP/INITIALIZED_APP",e.SET_ERROR="APP/SET_ERROR",e.UPDATE_PHOTO="PROFILE/UPDATE_PHOTO"}(n||(n={}));var r=function(e){return{type:n.ADD_POST,value:e}},o=function(e){return{type:n.ADD_MESSAGE,message:e}},c=function(e){return{type:n.FOLLOW_TO_USER,userId:e}},i=function(e){return{type:n.UNFOLLOW_TO_USER,userId:e}},l=function(e){return{type:n.SET_USERS,users:e}},s=function(e){return{type:n.SET_TOTAL_USERS_COUNT,totalUsersCount:e}},u=function(e){return{type:n.SET_CURRENT_PAGE,currentPage:e}},_=function(e){return{type:n.SET_IS_FETCHING,isFetching:e}},m=function(e){return{type:n.SET_USER_PROFILE,userProfile:e}},p=function(e){return{type:n.SET_AUTH_DATA,authData:e}},d=function(e,t){return{type:n.SET_FOLLOWING_IN_PROGRESS,isFollowingProgress:e,userId:t}},f=function(e){return{type:n.SET_STATUS_PROFILE,statusProfile:e}},h=function(e){return{type:n.SET_AUTH_ERROR,error:e}},E=function(e){return{type:n.SET_CAPTCHA_VALUE,captcha:e}},b=function(){return{type:n.INITIALIZED_APP}},g=function(e){return{type:n.SET_ERROR,error:e}},O=function(e){return{type:n.UPDATE_PHOTO,photo:e}}},70:function(e,t,a){e.exports={header:"header_header__28bqR",header__wrapper:"header_header__wrapper__1rCLi",header__wrapper_img:"header_header__wrapper_img__3B4XV",header__authBlock:"header_header__authBlock__3SaVn",header__authBlock_login:"header_header__authBlock_login__3iRv5",header__logOutBtn:"header_header__logOutBtn__1lZF5"}},88:function(e,t,a){e.exports={app__wrapper:"app_app__wrapper__3zjyW",app__wrapper_content:"app_app__wrapper_content__30D5Q",circleProgress:"app_circleProgress__2rhjH"}},95:function(e,t,a){e.exports={content:"newPost_content__2nJOh",content__textArea:"newPost_content__textArea__2sjje",content__button:"newPost_content__button__3yZ3B"}}},[[178,1,2]]]);
//# sourceMappingURL=main.f5e16b59.chunk.js.map